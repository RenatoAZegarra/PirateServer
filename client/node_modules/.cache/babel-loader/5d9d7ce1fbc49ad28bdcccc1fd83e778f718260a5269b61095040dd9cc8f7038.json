{"ast":null,"code":"import React,{useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';import Button from'react-bootstrap/Button';import Card from'react-bootstrap/Card';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(_ref){var pirates=_ref.pirates,setPirates=_ref.setPirates;// get the data right away\nuseEffect(function(){// make the call to the server\naxios.get('http://localhost:8000/api/pirates').then(function(serverRes){console.log('✅ SERVER SUCCESS => ',serverRes.data);var sortedPirates=serverRes.data.sort(function(a,b){return a.name.localeCompare(b.name);});setPirates(sortedPirates);}).catch(function(err){console.log('❌ SERVER ERROR',err);});},[]);// Delete\nvar deletePirate=function deletePirate(pirateId){console.log('delete',pirateId);axios.delete(\"http://localhost:8000/api/pirates/\".concat(pirateId)).then(function(res){console.log(res.data);setPirates(pirates.filter(function(pirate){return pirate._id!==pirateId;}));}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(Container,{style:{background:'yellow'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Pirate Crew\"}),/*#__PURE__*/_jsx(Link,{to:\"/pirate/new\",className:\"btn btn-primary ml-auto\",children:\"Add Pirate\"})]}),/*#__PURE__*/_jsx(Row,{style:{background:'red',padding:'20px'},children:pirates.map(function(pirate){return/*#__PURE__*/_jsx(Col,{sm:6,md:4,lg:3,children:/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:pirate.image,alt:pirate.name}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:pirate.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(Link,{to:\"/pirate/\".concat(pirate._id),className:\"btn btn-primary\",children:\"View Pirate\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:function onClick(){return deletePirate(pirate._id);},children:\"Walk the Plank\"})]})]})]})},pirate._id);})})]});};export default Main;","map":{"version":3,"names":["React","useEffect","axios","Link","Button","Card","Container","Row","Col","jsx","_jsx","jsxs","_jsxs","Main","_ref","pirates","setPirates","get","then","serverRes","console","log","data","sortedPirates","sort","a","b","name","localeCompare","catch","err","deletePirate","pirateId","delete","concat","res","filter","pirate","_id","style","background","children","textAlign","display","justifyContent","alignItems","to","className","padding","map","sm","md","lg","Img","variant","src","image","alt","Body","Title","onClick"],"sources":["C:/Users/aldai/Desktop/dojo_assignments/JavaScript/exam/pirate/client/src/components/Main.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\n\r\nconst Main = ({ pirates, setPirates }) => {\r\n    // get the data right away\r\n    useEffect(() => {\r\n        // make the call to the server\r\n        axios\r\n            .get('http://localhost:8000/api/pirates')\r\n            .then((serverRes) => {\r\n                console.log('✅ SERVER SUCCESS => ', serverRes.data);\r\n                const sortedPirates = serverRes.data.sort((a, b) => a.name.localeCompare(b.name));\r\n                setPirates(sortedPirates);\r\n            })\r\n            .catch((err) => {\r\n                console.log('❌ SERVER ERROR', err);\r\n            });\r\n    }, []);\r\n\r\n    // Delete\r\n    const deletePirate = (pirateId) => {\r\n        console.log('delete', pirateId);\r\n        axios\r\n            .delete(`http://localhost:8000/api/pirates/${pirateId}`)\r\n            .then((res) => {\r\n                console.log(res.data);\r\n                setPirates(pirates.filter((pirate) => pirate._id !== pirateId));\r\n            })\r\n            .catch((err) => console.log(err));\r\n    };\r\n    return (\r\n        <Container style={{ background: 'yellow' }}>\r\n            <div style={{ textAlign: 'center', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <h1>\r\n                Pirate Crew\r\n            </h1>\r\n                <Link to=\"/pirate/new\" className=\"btn btn-primary ml-auto\">Add Pirate</Link>\r\n            </div>\r\n            <Row style={{ background: 'red', padding: '20px' }}>\r\n                {pirates.map((pirate) => (\r\n                    <Col sm={6} md={4} lg={3} key={pirate._id}>\r\n                        <Card className=\"mb-4\">\r\n                            <Card.Img variant=\"top\" src={pirate.image} alt={pirate.name} />\r\n                            <Card.Body>\r\n                                <Card.Title>{pirate.name}</Card.Title>\r\n                                <div className=\"d-flex justify-content-between\">\r\n                                    <Link to={`/pirate/${pirate._id}`} className=\"btn btn-primary\">View Pirate</Link>\r\n                                    <Button variant=\"danger\" onClick={() => deletePirate(pirate._id)}>Walk the Plank</Button>\r\n                                </div>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n                ))}\r\n            </Row>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Main;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}